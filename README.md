# Instituto

Proyecto en JAVA para gestionar una base de datos con varias implementaciones de acceso a datos (SQLite, Oracle XE y Mock).

---

## Estructura

- Paquete principal: `es.etg.dam`
- Clases relevantes: `Main`, `Alumno`, `Asignatura`, `InstitutoDAO`, `InstitutoSQLiteDAOImp`, `InstitutoOracleXeDAOImp`, `InstitutoMockDAOImp`.

---

## Diagrama de tablas (PlantUML)

![alt text](image.png)

---

## DDL de ejemplo

Oracle:

```sql
CREATE TABLE instituto (
  nombre VARCHAR2(100) PRIMARY KEY,
  apellido VARCHAR2(100),
  edad NUMBER
);

CREATE TABLE asignaturas (
  id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  nombre_asignatura VARCHAR2(200),
  nombre_alumno VARCHAR2(100),
  CONSTRAINT fk_asig_alumno FOREIGN KEY (nombre_alumno) REFERENCES instituto(nombre)
);
```

SQLite:

```sql
CREATE TABLE instituto (
  nombre TEXT PRIMARY KEY,
  apellido TEXT,
  edad INTEGER
);

CREATE TABLE asignaturas (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  nombre_asignatura TEXT,
  nombre_alumno TEXT,
  FOREIGN KEY(nombre_alumno) REFERENCES instituto(nombre)
);
```

---

## Notas

### Características del proyecto

- Implementación de patrón **DAO** (Data Access Object) con múltiples backends.
- Soporte para **SQLite** y **Oracle XE**.
- Métodos CRUD para gestionar `Alumno` (create, update, delete).
- Métodos para gestionar `Asignatura` y listar relaciones alumno-asignatura.
- Uso de **PreparedStatement** para prevenir SQL injection.
- Interfaz **InstitutoDAO** centralizada para cambiar implementaciones fácilmente.

### Requisitos previos

- **Java 21**.
- **Maven 3.9+** para compilar y ejecutar el proyecto.
- **SQLite JDBC Driver** (incluido en `pom.xml`).
- **Oracle JDBC Driver** (ojdbc11 o compatible, según versión de Oracle).
- Para `InstitutoOracleXeDAOImp`: conexión disponible a una instancia de **Oracle XE** con usuario y contraseña configurados.


